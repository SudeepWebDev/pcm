<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Communication System- Demo and Presentation</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='48' fill='%23004e8a'/><text x='50%' y='58%' font-size='48' text-anchor='middle' fill='white' font-family='Arial' dy='.3em'>CS</text></svg>">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body style="background: linear-gradient(120deg, #e6f0fa 0%, #f8fbff 100%); min-height:100vh;">

<!-- Hamburger menu toggle button -->
<div class="nav-toggle" id="navToggle">
    <span></span>
    <span></span>
    <span></span>
</div>

<!-- Overlay for when menu is open -->
<div class="overlay" id="overlay"></div>

<!-- Side navigation menu -->
<nav class="side-nav" id="sideNav">
    <ul>
        <li><a href="#presentationSection">Presentation</a></li>
        <li><a href="#demoPanel">Interactive Demo</a></li>
        <li><a href="#exampleSection">FM Radio Example</a></li>
        <li><a href="#mathSection">Mathematical Model</a></li>
        <li><a href="#quizSection">Knowledge Quiz</a></li>
        <li><a href="#referencesSection">References</a></li>
    </ul>
</nav>

<header style="background: linear-gradient(90deg, #e3f0ff 60%, #f7faff 100%); box-shadow:0 2px 8px rgba(0,0,0,0.03); border-radius:0 0 16px 16px; padding-bottom:1.5rem;">
    <h1 style="font-size:2.7rem; color:#1a4e8a; letter-spacing:1px; margin-bottom:0.2rem; animation: fadeInDown 1s;">
        Communication System
    </h1>
    <p style="font-size:1.2rem; color:#3c5a7c; margin-bottom:0.7rem;">Presentation, Interactive Demo &amp; Learning Portal</p>
    <div style="margin-top:1rem;display:flex;gap:1rem;align-items:center;justify-content:center;flex-wrap:wrap;">
        <label for="topicFilter" style="font-weight:bold;color:#004080;">Filter by Topic:</label>
        <select id="topicFilter" style="padding:4px 10px;border-radius:5px;border:1px solid #bbb;">
            <option value="all">All</option>
            <option value="modulation">Modulation</option>
            <option value="quantization">Quantization</option>
            <option value="quiz">Quiz</option>
            <option value="math">Mathematics</option>
            <option value="references">References</option>
        </select>
    </div>
</header>

<!-- Hero Section -->
<section style="max-width:700px;margin:2.5rem auto 2rem auto;padding:2rem 2.5rem;background:rgba(255,255,255,0.95);border-radius:18px;box-shadow:0 4px 24px 0 rgba(63,69,81,0.10);text-align:center;">
    <h2 style="font-size:2rem;color:#1a4e8a;margin-bottom:0.5rem;">Welcome to the Communication System Portal</h2>
    <p style="font-size:1.15rem;color:#3c5a7c;line-height:1.6;">
        Explore the fundamentals of analog and digital communication systems, experience interactive modulation demos, and test your knowledge with quizzes. Perfect for students and enthusiasts!
    </p>
    <a href="#demoPanel" style="display:inline-block;margin-top:1.2rem;padding:0.7em 2em;background:#1a4e8a;color:#fff;border-radius:8px;font-weight:bold;box-shadow:0 2px 8px rgba(26,78,138,0.08);text-decoration:none;transition:background 0.2s;">Try the Interactive Demo ‚Üì</a>
</section>

<!-- Modern Table of Contents / Syllabus Section -->
<section id="syllabusTOC" style="max-width:900px;margin:1.5rem auto 2rem auto;padding:1.5rem 2rem;background:rgba(245,250,255,0.97);border-radius:14px;box-shadow:0 2px 12px 0 rgba(63,69,81,0.07);">
    <h2 style="color:#1a4e8a;text-align:center;margin-bottom:1.2rem;">Syllabus Contents & Table of Contents</h2>
    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1.2rem;">
        <a class="toc-card topic-modulation" href="#amDemoSection" style="display:flex;align-items:center;gap:0.8em;padding:1.1em 1em;background:#fff;border-radius:10px;box-shadow:0 1px 6px rgba(26,78,138,0.06);text-decoration:none;color:#18406a;transition:box-shadow 0.2s;">
            <span style="font-size:1.7em;">üéöÔ∏è</span>
            <span>Study of Amplitude Modulation</span>
        </a>
        <a class="toc-card topic-modulation" href="#demoPanel" style="display:flex;align-items:center;gap:0.8em;padding:1.1em 1em;background:#fff;border-radius:10px;box-shadow:0 1px 6px rgba(26,78,138,0.06);text-decoration:none;color:#18406a;">
            <span style="font-size:1.7em;">üìª</span>
            <span>Study of Frequency Modulation</span>
        </a>
        <a class="toc-card topic-modulation" href="#amDemoSection" style="display:flex;align-items:center;gap:0.8em;padding:1.1em 1em;background:#fff;border-radius:10px;box-shadow:0 1px 6px rgba(26,78,138,0.06);text-decoration:none;color:#18406a;">
            <span style="font-size:1.7em;">üßÆ</span>
            <span>Study of AM Demodulation</span>
        </a>
        <a class="toc-card topic-modulation" href="#mathSection" style="display:flex;align-items:center;gap:0.8em;padding:1.1em 1em;background:#fff;border-radius:10px;box-shadow:0 1px 6px rgba(26,78,138,0.06);text-decoration:none;color:#18406a;">
            <span style="font-size:1.7em;">üîä</span>
            <span>Study of FM Demodulation</span>
        </a>
        <a class="toc-card topic-modulation" href="#demoPanel" style="display:flex;align-items:center;gap:0.8em;padding:1.1em 1em;background:#fff;border-radius:10px;box-shadow:0 1px 6px rgba(26,78,138,0.06);text-decoration:none;color:#18406a;">
            <span style="font-size:1.7em;">üì∂</span>
            <span>Study of Pulse Amplitude Modulation</span>
        </a>
        <a class="toc-card topic-modulation" href="#demoPanel" style="display:flex;align-items:center;gap:0.8em;padding:1.1em 1em;background:#fff;border-radius:10px;box-shadow:0 1px 6px rgba(26,78,138,0.06);text-decoration:none;color:#18406a;">
            <span style="font-size:1.7em;">‚è≥</span>
            <span>Study of Pulse Width Modulation</span>
        </a>
        <a class="toc-card topic-modulation" href="#demoPanel" style="display:flex;align-items:center;gap:0.8em;padding:1.1em 1em;background:#fff;border-radius:10px;box-shadow:0 1px 6px rgba(26,78,138,0.06);text-decoration:none;color:#18406a;">
            <span style="font-size:1.7em;">üïí</span>
            <span>Study of Pulse Position Modulation</span>
        </a>
        <a class="toc-card topic-modulation" href="#demoPanel" style="display:flex;align-items:center;gap:0.8em;padding:1.1em 1em;background:#fff;border-radius:10px;box-shadow:0 1px 6px rgba(26,78,138,0.06);text-decoration:none;color:#18406a;">
            <span style="font-size:1.7em;">üîó</span>
            <span>Study of Pulse Modulation</span>
        </a>
    </div>
</section>

<!-- Amplitude Modulation & Demodulation Demo Section -->
<section id="amDemoSection" style="max-width:900px;margin:2.5rem auto 2rem auto;padding:2rem 2.5rem;background:rgba(255,255,255,0.97);border-radius:18px;box-shadow:0 4px 24px 0 rgba(63,69,81,0.10);">
    <h2 style="color:#1a4e8a;">Amplitude Modulation & Demodulation Demo</h2>
    <div style="display:flex;gap:1em;flex-wrap:wrap;">
        <button id="amTheoryBtn" style="margin-bottom:1em;padding:0.5em 1.2em;background:#e3f0ff;color:#1a4e8a;border:none;border-radius:6px;font-weight:bold;cursor:pointer;">Show/Hide Theory</button>
        <button id="amMathBtn" style="margin-bottom:1em;padding:0.5em 1.2em;background:#e3f0ff;color:#1a4e8a;border:none;border-radius:6px;font-weight:bold;cursor:pointer;">Show/Hide Math</button>
    </div>
    <div id="amTheory" style="display:none;margin-bottom:1.5em;text-align:left;">
        <h3>Theory of Amplitude Modulation (AM)</h3>
        <p>
            <b>Amplitude Modulation (AM)</b> is a technique where the amplitude of a high-frequency carrier wave is varied in proportion to the instantaneous value of the message (modulating) signal.<br>
            <b>Mathematical Expression:</b><br>
            <span style="font-family:monospace;">s(t) = [A<sub>c</sub> + m(t)] √ó cos(2œÄf<sub>c</sub>t)</span><br>
            where <i>A<sub>c</sub></i> is the carrier amplitude, <i>m(t)</i> is the message signal, and <i>f<sub>c</sub></i> is the carrier frequency.
        </p>
        <h3>AM Demodulation (Envelope Detection)</h3>
        <p>
            The original message can be recovered from the AM signal using an <b>envelope detector</b>, which tracks the outer shape (envelope) of the modulated waveform.
        </p>
        <ul>
            <li><b>Applications:</b> AM radio broadcasting, two-way radio, aircraft communication.</li>
            <li><b>Advantages:</b> Simple implementation, low cost.</li>
            <li><b>Disadvantages:</b> Susceptible to noise, less power efficient than SSB.</li>
        </ul>
    </div>
    <div id="amMath" style="display:none;margin-bottom:1.5em;text-align:left;">
        <h3>Mathematical Model (Dynamic)</h3>
        <p>
            <b>Message Signal:</b><br>
            <span style="font-family:monospace;">
                m(t) = <span id="mathAmMsgAmp"></span> √ó sin(2œÄ √ó <span id="mathAmMsgFreq"></span> √ó t)
            </span>
        </p>
        <p>
            <b>Carrier Signal:</b><br>
            <span style="font-family:monospace;">
                c(t) = <span id="mathAmCarrierAmp"></span> √ó cos(2œÄ √ó <span id="mathAmCarrierFreq"></span> √ó t)
            </span>
        </p>
        <p>
            <b>AM Modulated Signal:</b><br>
            <span style="font-family:monospace;">
                s(t) = [<span id="mathAmCarrierAmp2"></span> + <span id="mathAmMsgAmp2"></span> √ó sin(2œÄ √ó <span id="mathAmMsgFreq2"></span> √ó t)] √ó cos(2œÄ √ó <span id="mathAmCarrierFreq2"></span> √ó t)
            </span>
        </p>
        <p>
            <b>Envelope (Demodulated):</b><br>
            <span style="font-family:monospace;">
                |<span id="mathAmCarrierAmp3"></span> + <span id="mathAmMsgAmp3"></span> √ó sin(2œÄ √ó <span id="mathAmMsgFreq3"></span> √ó t)|
            </span>
        </p>
    </div>
    <div class="controls" style="display:flex;flex-wrap:wrap;gap:1.5em;margin-bottom:1.2em;">
        <label>
            Carrier Frequency (Hz):
            <input type="range" id="amCarrierFreq" min="100" max="2000" value="1000">
            <span id="amCarrierFreqVal">1000</span>
        </label>
        <label>
            Message Frequency (Hz):
            <input type="range" id="amMsgFreq" min="1" max="100" value="10">
            <span id="amMsgFreqVal">10</span>
        </label>
        <label>
            Message Amplitude:
            <input type="range" id="amMsgAmp" min="0" max="1" step="0.01" value="0.5">
            <span id="amMsgAmpVal">0.5</span>
        </label>
        <label>
            Carrier Amplitude:
            <input type="range" id="amCarrierAmp" min="0.1" max="1" step="0.01" value="1">
            <span id="amCarrierAmpVal">1</span>
        </label>
    </div>
    <div class="chart-container" style="overflow-x:auto;">
        <canvas id="amMsgCarrierChart" style="min-width:700px;max-width:1200px;"></canvas>
    </div>
    <div class="chart-container" style="overflow-x:auto;">
        <canvas id="amChart" style="min-width:700px;max-width:1200px;"></canvas>
    </div>
    <div class="chart-container" style="overflow-x:auto;">
        <canvas id="amDemodChart" style="min-width:700px;max-width:1200px;"></canvas>
    </div>
    <div style="margin-top:18px;color:#1a4e8a;font-size:1.05rem;">
        <b>How to use:</b> Adjust the sliders to change carrier/message frequencies and amplitudes.<br>
        The first chart shows the message and carrier signals. The second chart shows the AM signal and its envelope. The third chart shows the demodulated (envelope detected) signal.<br>
        <b>Tip:</b> Scroll horizontally to explore the waveforms in detail.<br>
        <b>Note:</b> The demodulated signal (envelope) closely follows the original message signal, but may not be exactly the same due to effects like rectification, DC offset, and imperfect envelope detection. For ideal AM with proper modulation index, the envelope matches the message shape.
    </div>
</section>

<main>
    <section id="presentationSection">
        <h2>Presentation</h2>
        <!-- Canva iframe with fallback -->
        <div id="canvaContainer" style="position: relative; width: 100%; height: 0; padding-top: 56.2500%;
        padding-bottom: 0; box-shadow: 0 2px 8px 0 rgba(63,69,81,0.16); margin-top: 1.6em; margin-bottom: 0.9em; overflow: hidden;
        border-radius: 8px; will-change: transform;">
         <iframe id="canvaFrame" loading="lazy" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0; border: none; padding: 0;margin: 0;"
           src="https://www.canva.com/design/DAGlRwL0oaE/_ZFLKVZBI8cRKGKePoQhLw/view?embed" allowfullscreen="allowfullscreen" allow="fullscreen">
         </iframe>
       </div>
       
       <!-- Fallback that will be shown if iframe fails to load -->
       <div id="canvaFallback" class="presentation-link" style="display: none;">
           <p>The embedded presentation couldn't be loaded due to Content Security Policy restrictions.</p>
           <p>Please click the button below to view the presentation in a new tab:</p>
           <a href="https://www.canva.com/design/DAGlRwL0oaE/_ZFLKVZBI8cRKGKePoQhLw/view" target="_blank" class="canva-button">
               View Presentation
           </a>
       </div>
       
       <a href="https:&#x2F;&#x2F;www.canva.com&#x2F;design&#x2F;DAGlRwL0oaE&#x2F;_ZFLKVZBI8cRKGKePoQhLw&#x2F;view?utm_content=DAGlRwL0oaE&amp;utm_campaign=designshare&amp;utm_medium=embeds&amp;utm_source=link" target="_blank" rel="noopener">Pilot Carrier Modulation</a> by SUDEEP SINGH
    </section>
    <section id="presentationSection2">
        <h2>Presentation </h2>
        <!-- Canva iframe with fallback -->
        <div style="position: relative; width: 100%; height: 0; padding-top: 56.2500%;
 padding-bottom: 0; box-shadow: 0 2px 8px 0 rgba(63,69,81,0.16); margin-top: 1.6em; margin-bottom: 0.9em; overflow: hidden;
 border-radius: 8px; will-change: transform;">
  <iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0; border: none; padding: 0;margin: 0;"
    src="https://www.canva.com/design/DAGleyD_O2I/NiKVxqRKJh11ulJKbcFJhA/view?embed" allowfullscreen="allowfullscreen" allow="fullscreen">
  </iframe>
</div>
<a href="https:&#x2F;&#x2F;www.canva.com&#x2F;design&#x2F;DAGleyD_O2I&#x2F;NiKVxqRKJh11ulJKbcFJhA&#x2F;view?utm_content=DAGleyD_O2I&amp;utm_campaign=designshare&amp;utm_medium=embeds&amp;utm_source=link" target="_blank" rel="noopener">Quantization noise</a> by Shubham Kushwaha
    </section>

    <section>
        <div class="demo-panel" id="demoPanel">
            <h2 style="color:#1a4e8a;">Interactive Pilot Carrier Modulation Demo</h2>
            <div class="controls">
                <label>
                    Carrier Frequency (Hz):
                    <input type="range" id="carrierFreq" min="100" max="2000" value="1000">
                    <span id="carrierFreqVal">1000</span>
                </label>
                <label>
                    Pilot Frequency (Hz):
                    <input type="range" id="pilotFreq" min="10" max="500" value="100">
                    <span id="pilotFreqVal">100</span>
                </label>
                <label>
                    Message Frequency (Hz):
                    <input type="range" id="msgFreq" min="1" max="100" value="10">
                    <span id="msgFreqVal">10</span>
                </label>
                <label>
                    Quantization Bits:
                    <input type="range" id="quantBits" min="2" max="10" value="4">
                    <span id="quantBitsVal">4</span>
                </label>
            </div>
            <div class="chart-container">
                <canvas id="modulationChart"></canvas>
            </div>
            <div class="chart-container">
                <canvas id="modulationChartNoPilot"></canvas>
            </div>
            <div class="chart-container">
                <canvas id="quantizationChart"></canvas>
            </div>
            <div style="margin-top:18px;color:#1a4e8a;font-size:1.05rem;">
                <b>How to use:</b> Move the sliders to change the carrier, pilot, message frequencies, and quantization bits.<br>
                The charts update in real time to show modulation <i>with</i> and <i>without</i> pilot carrier, and quantization noise.
            </div>
        </div>
    </section>

    <section class="example-section" id="exampleSection">
        <h2>Real Example: FM Radio Transmission</h2>
        <p>In FM radio broadcasting, a pilot tone at 19 kHz is transmitted alongside the main stereo signal to help receivers decode the left and right audio channels. The carrier frequency might be around 100 MHz for FM radio, while message signals (audio) range from 20 Hz to 15 kHz.</p>
        <p><b>Example Parameters:</b>
        <ul>
            <li>Carrier Frequency (fc) ‚âà 1000 Hz (scaled down for demo)</li>
            <li>Pilot Frequency (fp) ‚âà 100 Hz</li>
            <li>Message Frequency (fm) ‚âà 10 Hz</li>
        </ul>
        </p>
        <p>This example shows how a pilot signal is essential for synchronization and signal demodulation in real-world applications like FM broadcasting.</p>
    </section>

    <section class="math-section" id="mathSection">
        <h2>Mathematical Model Verification</h2>
        <p>The modulated signal <b>with pilot</b> is given by:</p>
        <p style="font-family:monospace;">s(t) = (1 + m(t)) √ó cos(2œÄf<sub>c</sub>t) + 0.2 √ó cos(2œÄf<sub>p</sub>t)</p>
        <p>where <i>m(t)</i> = sin(2œÄf<sub>m</sub>t)</p>

        <p>Without the pilot, the modulated signal simplifies to:</p>
        <p style="font-family:monospace;">s(t) = (1 + m(t)) √ó cos(2œÄf<sub>c</sub>t)</p>

        <p>‚úÖ Our simulation plots follow these formulas correctly:</p>
        <ul>
            <li>"With Pilot" includes an extra sinusoidal component at pilot frequency.</li>
            <li>"Without Pilot" shows only the message-modulated carrier.</li>
        </ul>

        <!-- Accordion for Proof -->
        <div class="accordion">
            <button class="accordion-button">Proof, Power Efficiency, and Bandwidth Analysis</button>
            <div class="accordion-content">
                <h3>Proof of the Equation</h3>
                <p>The modulated signal with a pilot carrier is:</p>
                <p style="font-family:monospace;">s(t) = (1 + m(t)) √ó cos(2œÄf<sub>c</sub>t) + 0.2 √ó cos(2œÄf<sub>p</sub>t)</p>
                <p>Substituting <i>m(t)</i> = sin(2œÄf<sub>m</sub>t):</p>
                <p style="font-family:monospace;">s(t) = (1 + sin(2œÄf<sub>m</sub>t)) √ó cos(2œÄf<sub>c</sub>t) + 0.2 √ó cos(2œÄf<sub>p</sub>t)</p>
                <p>Expanding:</p>
                <p style="font-family:monospace;">s(t) = cos(2œÄf<sub>c</sub>t) + sin(2œÄf<sub>m</sub>t) √ó cos(2œÄf<sub>c</sub>t) + 0.2 √ó cos(2œÄf<sub>p</sub>t)</p>
                <p>The first term is the carrier, the second term is the message-modulated carrier, and the third term is the pilot carrier.</p>

                <h3>Why Include the Pilot Carrier?</h3>
                <p>The pilot carrier term <b>+ 0.2 √ó cos(2œÄf<sub>p</sub>t)</b> serves as a frequency reference for demodulation. It is attenuated (scaled by 0.2) to minimize interference with the main signal while still being detectable by the receiver.</p>
                <p>In Single Sideband (SSB) systems, the pilot carrier helps the receiver reconstruct the suppressed carrier for coherent demodulation. Without it, the receiver would struggle to decode the signal accurately.</p>
                <p>The attenuation factor (0.2) corresponds to a 16 dB reduction in power, ensuring the pilot carrier does not dominate the transmitted power.</p>

                <h3>Power Efficiency</h3>
                <p>The total transmitted power is the sum of the power in the carrier, sidebands, and pilot:</p>
                <p style="font-family:monospace;">P<sub>t</sub> = P<sub>carrier</sub> + P<sub>sidebands</sub> + P<sub>pilot</sub></p>
                <p>For a pilot attenuated by 16 dB:</p>
                <p style="font-family:monospace;">P<sub>pilot</sub> = P<sub>sidebands</sub> √ó 10<sup>-16/10</sup> ‚âà 0.025 √ó P<sub>sidebands</sub></p>
                <p>Total power:</p>
                <p style="font-family:monospace;">P<sub>t</sub> = P<sub>sidebands</sub> (1 + 0.025)</p>
                <p>Power efficiency:</p>
                <p style="font-family:monospace;">Œ∑ = P<sub>sidebands</sub> / P<sub>t</sub> = 1 / (1 + 0.025) ‚âà 97.6%</p>

                <h3>Bandwidth Analysis</h3>
                <p>The bandwidth of the modulated signal is determined by the highest frequency component:</p>
                <ul>
                    <li>Without pilot: Bandwidth = 2 √ó f<sub>m</sub> (message bandwidth)</li>
                    <li>With pilot: Bandwidth = 2 √ó f<sub>m</sub> + negligible pilot bandwidth</li>
                </ul>
                <p>Thus, the pilot carrier adds minimal bandwidth overhead.</p>
            </div>
        </div>
    </section>

   <!-- Quiz Section -->
    <section class="quiz-section topic-quiz" id="quizSection">
        <h2>Test Your Knowledge: Modulation & Pilot Carrier</h2>
        <div class="quiz-container">
            <div class="quiz-item">
                <p><strong>1. What is the main purpose of including a pilot carrier in SSB?</strong></p>
                <div class="quiz-options">
                    <div class="option" data-correct="false">To increase transmission power</div>
                    <div class="option" data-correct="true">To provide a frequency reference for demodulation</div>
                    <div class="option" data-correct="false">To boost audio quality</div>
                    <div class="option" data-correct="false">To increase bandwidth</div>
                </div>
                <div class="feedback"></div>
            </div>
            
            <div class="quiz-item">
                <p><strong>2. By how much is the pilot carrier typically attenuated compared to full carrier?</strong></p>
                <div class="quiz-options">
                    <div class="option" data-correct="false">3-6 dB</div>
                    <div class="option" data-correct="false">8-12 dB</div>
                    <div class="option" data-correct="true">16-26 dB</div>
                    <div class="option" data-correct="false">30-40 dB</div>
                </div>
                <div class="feedback"></div>
            </div>
            
            <div class="quiz-item">
                <p><strong>3. What's the typical power efficiency of a pilot-carrier SSB system?</strong></p>
                <div class="quiz-options">
                    <div class="option" data-correct="false">33%</div>
                    <div class="option" data-correct="false">50%</div>
                    <div class="option" data-correct="false">75%</div>
                    <div class="option" data-correct="true">97-99%</div>
                </div>
                <div class="feedback"></div>
            </div>
            
            <div class="quiz-item">
                <p><strong>4. Which system uses half the bandwidth of conventional AM?</strong></p>
                <div class="quiz-options">
                    <div class="option" data-correct="true">Pilot-Carrier SSB</div>
                    <div class="option" data-correct="false">Double-sideband AM</div>
                    <div class="option" data-correct="false">FM</div>
                    <div class="option" data-correct="false">PM</div>
                </div>
                <div class="feedback"></div>
            </div>
        </div>
    </section>
    <section class="quiz-section topic-quiz" id="quantQuizSection">
        <h2>Test Your Knowledge: Quantization Noise</h2>
        <div class="quiz-container">
            <div class="quiz-item">
                <p><strong>1. What is quantization noise?</strong></p>
                <div class="quiz-options">
                    <div class="option" data-correct="true">The error between the analog value and its quantized digital value</div>
                    <div class="option" data-correct="false">Random noise from the environment</div>
                    <div class="option" data-correct="false">Noise added by the carrier signal</div>
                    <div class="option" data-correct="false">Interference from other channels</div>
                </div>
                <div class="feedback"></div>
            </div>
            <div class="quiz-item">
                <p><strong>2. How can quantization noise be reduced?</strong></p>
                <div class="quiz-options">
                    <div class="option" data-correct="false">By lowering the carrier frequency</div>
                    <div class="option" data-correct="true">By increasing the number of quantization bits</div>
                    <div class="option" data-correct="false">By adding a pilot signal</div>
                    <div class="option" data-correct="false">By using AM instead of FM</div>
                </div>
                <div class="feedback"></div>
            </div>
            <div class="quiz-item">
                <p><strong>3. Quantization noise is:</strong></p>
                <div class="quiz-options">
                    <div class="option" data-correct="false">Always zero</div>
                    <div class="option" data-correct="false">Unrelated to bit depth</div>
                    <div class="option" data-correct="true">Inversely related to the number of quantization levels</div>
                    <div class="option" data-correct="false">Maximum when using 16 bits</div>
                </div>
                <div class="feedback"></div>
            </div>
        </div>
    </section>

    <!-- References Section -->
    <section class="references-section" id="referencesSection">
        <h2>References</h2>
        <div class="content-block">
            <ol class="reference-list">
                <li>Proakis, John G., <em>Digital Communications</em>, McGraw Hill, 5th Edition, 2008.</li>
                <li>Haykin, Simon, <em>Communication Systems</em>, 5th Edition, Wiley, 2013.</li>
                <li>Lathi, B. P., <em>Modern Digital and Analog Communication Systems</em>, Oxford University Press, 4th Edition, 2009.</li>
                <li>Stremler, Ferrel G., <em>Introduction to Communication Systems</em>, 3rd Edition, Addison-Wesley, 1990.</li>
            </ol>
            <p class="citation-note">The technical content on Pilot Carrier Modulation presented in this document draws from these authoritative sources in the field of communications engineering.</p>
        </div>
    </section>
</main>

<!-- Footer with attribution -->
<footer class="attribution-footer">
    <div class="attribution-container">
        <div class="attribution-section">
            <h3>Created By</h3>
            <p>Sudeep Kumar Singh</p>
            <p>22/28021</p>
            <p>Paper: Communication System</p>
            <p>Bsc Computer Science Hons</p>
            <p>Atma Ram Santan Dharma College, DU</p>
        </div>
        <div class="attribution-section">
            <h3>Created By</h3>
            <p>Shubham Kushwaha</p>
            <p>22/28090</p>
            <p>Paper: Communication System</p>
            <p>Bsc Computer Science Hons</p>
            <p>Atma Ram Santan Dharma College, DU</p>
        </div>
        <div class="attribution-section">
            <h3>Submitted to</h3>
            <p>Dr. Nisha Jha</p>
            <p>Department of Electronics</p>
            <p>Atma Ram Santan Dharma College</p>
            <p>University of Delhi</p>
        </div>
    </div>
</footer>
<script src="script.js"></script>
<script>
// --- AM Theory Toggle ---
document.getElementById('amTheoryBtn').onclick = function() {
    const theory = document.getElementById('amTheory');
    theory.style.display = (theory.style.display === 'none' || theory.style.display === '') ? 'block' : 'none';
};
// --- AM Math Toggle ---
document.getElementById('amMathBtn').onclick = function() {
    const math = document.getElementById('amMath');
    math.style.display = (math.style.display === 'none' || math.style.display === '') ? 'block' : 'none';
};
// --- AM Demo Simulation ---
if (document.getElementById('amChart')) {
    const amCarrierFreq = document.getElementById('amCarrierFreq');
    const amMsgFreq = document.getElementById('amMsgFreq');
    const amMsgAmp = document.getElementById('amMsgAmp');
    const amCarrierAmp = document.getElementById('amCarrierAmp');
    const amCarrierFreqVal = document.getElementById('amCarrierFreqVal');
    const amMsgFreqVal = document.getElementById('amMsgFreqVal');
    const amMsgAmpVal = document.getElementById('amMsgAmpVal');
    const amCarrierAmpVal = document.getElementById('amCarrierAmpVal');

    // Math formula spans
    const mathIds = [
        'mathAmMsgAmp','mathAmMsgFreq','mathAmCarrierAmp','mathAmCarrierFreq',
        'mathAmCarrierAmp2','mathAmMsgAmp2','mathAmMsgFreq2','mathAmCarrierFreq2',
        'mathAmCarrierAmp3','mathAmMsgAmp3','mathAmMsgFreq3'
    ];
    function updateAMMath() {
        const vals = {
            msgAmp: amMsgAmp.value,
            msgFreq: amMsgFreq.value,
            carrierAmp: amCarrierAmp.value,
            carrierFreq: amCarrierFreq.value
        };
        document.getElementById('mathAmMsgAmp').textContent = vals.msgAmp;
        document.getElementById('mathAmMsgFreq').textContent = vals.msgFreq;
        document.getElementById('mathAmCarrierAmp').textContent = vals.carrierAmp;
        document.getElementById('mathAmCarrierFreq').textContent = vals.carrierFreq;
        document.getElementById('mathAmCarrierAmp2').textContent = vals.carrierAmp;
        document.getElementById('mathAmMsgAmp2').textContent = vals.msgAmp;
        document.getElementById('mathAmMsgFreq2').textContent = vals.msgFreq;
        document.getElementById('mathAmCarrierFreq2').textContent = vals.carrierFreq;
        document.getElementById('mathAmCarrierAmp3').textContent = vals.carrierAmp;
        document.getElementById('mathAmMsgAmp3').textContent = vals.msgAmp;
        document.getElementById('mathAmMsgFreq3').textContent = vals.msgFreq;
    }

    function updateAMVals() {
        amCarrierFreqVal.textContent = amCarrierFreq.value;
        amMsgFreqVal.textContent = amMsgFreq.value;
        amMsgAmpVal.textContent = amMsgAmp.value;
        amCarrierAmpVal.textContent = amCarrierAmp.value;
        updateAMMath();
    }

    // Chart.js setup
    let amMsgCarrierChart, amChart, amDemodChart;
    function plotAM() {
        const N = 1000;
        const fs = 10000;
        const t = Array.from({length: N}, (_, i) => i / fs);
        const Ac = parseFloat(amCarrierAmp.value);
        const Am = parseFloat(amMsgAmp.value);
        const fc = parseFloat(amCarrierFreq.value);
        const fm = parseFloat(amMsgFreq.value);

        const msg = t.map(x => Am * Math.sin(2 * Math.PI * fm * x));
        const carrier = t.map(x => Ac * Math.cos(2 * Math.PI * fc * x));
        const am = t.map((x, i) => (Ac + msg[i]) * Math.cos(2 * Math.PI * fc * x));
        // Envelope detection (rectify + lowpass)
        const envelope = msg.map(m => Math.abs(Ac + m));

        // Message and Carrier Chart
        if (!amMsgCarrierChart) {
            amMsgCarrierChart = new Chart(document.getElementById('amMsgCarrierChart').getContext('2d'), {
                type: 'line',
                data: {
                    labels: t,
                    datasets: [
                        { label: 'Message Signal', data: msg, borderColor: '#e67e22', borderWidth: 1, pointRadius: 0, fill: false },
                        { label: 'Carrier Signal', data: carrier, borderColor: '#1a4e8a', borderWidth: 1, pointRadius: 0, fill: false }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: { legend: { display: true } },
                    scales: { x: { display: false }, y: { display: true } }
                }
            });
        } else {
            amMsgCarrierChart.data.datasets[0].data = msg;
            amMsgCarrierChart.data.datasets[1].data = carrier;
            amMsgCarrierChart.update();
        }

        // AM Chart
        if (!amChart) {
            amChart = new Chart(document.getElementById('amChart').getContext('2d'), {
                type: 'line',
                data: {
                    labels: t,
                    datasets: [
                        { label: 'AM Signal', data: am, borderColor: '#1a4e8a', borderWidth: 1, pointRadius: 0, fill: false },
                        { label: 'Envelope', data: envelope, borderColor: '#e67e22', borderWidth: 1, pointRadius: 0, fill: false, borderDash: [5,5] }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: { legend: { display: true } },
                    scales: { x: { display: false }, y: { display: true } }
                }
            });
        } else {
            amChart.data.datasets[0].data = am;
            amChart.data.datasets[1].data = envelope;
            amChart.update();
        }

        // Demodulated (envelope detected) signal
        if (!amDemodChart) {
            amDemodChart = new Chart(document.getElementById('amDemodChart').getContext('2d'), {
                type: 'line',
                data: {
                    labels: t,
                    datasets: [
                        { label: 'Demodulated (Envelope)', data: envelope, borderColor: '#e67e22', borderWidth: 1, pointRadius: 0, fill: false }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: { legend: { display: true } },
                    scales: { x: { display: false }, y: { display: true } }
                }
            });
        } else {
            amDemodChart.data.datasets[0].data = envelope;
            amDemodChart.update();
        }
    }

    [amCarrierFreq, amMsgFreq, amMsgAmp, amCarrierAmp].forEach(input => {
        input.addEventListener('input', () => {
            updateAMVals();
            plotAM();
        });
    });
    updateAMVals();
    plotAM();
}

// --- Pilot Carrier & Noise Chart Styling (for modulation demo) ---
if (window.Chart && document.getElementById('modulationChart')) {
    // Patch the chart creation for pilot carrier and noise
    // This assumes you have code that creates the modulationChart, modulationChartNoPilot, and quantizationChart
    // Add this after your existing chart creation code for those charts

    // Example for pilot carrier (modulationChart):
    if (window.modulationChart) {
        // Find the pilot carrier dataset by label or index and style it
        window.modulationChart.data.datasets.forEach(ds => {
            if (ds.label && ds.label.toLowerCase().includes('pilot')) {
                ds.borderWidth = 3;
                ds.borderColor = '#e74c3c'; // strong red for pilot
                ds.borderDash = [8, 4];
                ds.pointRadius = 0;
            }
        });
        window.modulationChart.update();
    }

    // Example for noise (quantizationChart):
    if (window.quantizationChart) {
        window.quantizationChart.data.datasets.forEach(ds => {
            if (ds.label && ds.label.toLowerCase().includes('noise')) {
                ds.borderWidth = 3;
                ds.borderColor = '#27ae60'; // green for noise
                ds.borderDash = [2, 2];
                ds.pointRadius = 0;
            }
        });
        window.quantizationChart.update();
    }
}
</script>
</body>
</html>
